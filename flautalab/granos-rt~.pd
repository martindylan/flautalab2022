#N canvas -8 -8 1366 685 12;
#N canvas 676 0 681 676 adsr 0;
#X msg 292 119 legato \$1;
#X msg 222 119 rel \$1;
#X msg 152 119 sus \$1;
#X obj 152 90 * 0.01;
#X msg 82 119 dec \$1;
#X msg 12 119 att \$1;
#X obj 292 12 r \$0-legato;
#X obj 222 12 r \$0-rel;
#X obj 152 12 r \$0-sus;
#X obj 82 12 r \$0-dec;
#X obj 12 12 r \$0-att;
#X obj 12 178 list prepend adsr;
#X obj 12 207 s \$0-params;
#X msg 383 119 anticlick \$1;
#X obj 383 12 r \$0-anticlick;
#X text 30 239 se reciben los parámetros de envolvente \, legato y
anticlick \, y se envían a todas las voces instanciadas por [clone]
;
#X connect 0 0 11 0;
#X connect 1 0 11 0;
#X connect 2 0 11 0;
#X connect 3 0 2 0;
#X connect 4 0 11 0;
#X connect 5 0 11 0;
#X connect 6 0 0 0;
#X connect 7 0 1 0;
#X connect 8 0 3 0;
#X connect 9 0 4 0;
#X connect 10 0 5 0;
#X connect 11 0 12 0;
#X connect 13 0 11 0;
#X connect 14 0 13 0;
#X restore 12 469 pd adsr;
#N canvas -8 -8 1366 685 window 0;
#X obj 44 192 samplerate~;
#X msg 97 216 0.5;
#X obj 44 216 / 2048;
#X obj 44 240 osc~, f 8;
#X obj 44 264 *~ 0.5;
#X obj 44 288 +~ 0.5;
#X msg 135 182 2048;
#X obj 12 317 tabwrite~ \$0-win;
#X obj 145 211 s \$0-window-duration;
#X obj 135 240 list prepend pass window duration;
#X obj 135 264 s \$0-params;
#X obj 12 129 loadbang;
#X obj 12 153 t b b;
#X connect 0 0 2 0;
#X connect 1 0 3 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 6 0 8 0;
#X connect 6 0 9 0;
#X connect 9 0 10 0;
#X connect 11 0 12 0;
#X connect 12 0 7 0;
#X connect 12 1 1 0;
#X connect 12 1 0 0;
#X connect 12 1 6 0;
#X restore 12 589 pd window;
#N canvas 674 0 683 676 smooth 0;
#N canvas 0 50 450 250 (subpatch) 0;
#X array \$0-smooth 2048 float 2;
#X coords 0 1 2048 -1 100 50 1 0 0;
#X restore 12 264 graph;
#X obj 263 126 loadbang;
#X obj 263 155 delay 10;
#N canvas 0 50 450 300 fill 0;
#X obj 93 157 t b f;
#X msg 93 186 1;
#X obj 12 41 until;
#X obj 12 70 f;
#X obj 61 70 + 1;
#X obj 12 99 t f f, f 10;
#X obj 12 157 t b b;
#X msg 61 41 0;
#X obj 12 128 sel, f 12;
#X obj 12 12 inlet;
#X obj 93 215 tabwrite \$0-smooth;
#X obj 93 97 r \$0-window-duration;
#X connect 0 0 1 0;
#X connect 0 1 10 1;
#X connect 1 0 10 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 8 0;
#X connect 5 1 4 0;
#X connect 6 0 7 0;
#X connect 6 1 2 1;
#X connect 7 0 3 1;
#X connect 8 0 6 0;
#X connect 8 1 0 0;
#X connect 9 0 2 0;
#X connect 11 0 8 1;
#X restore 273 184 pd fill;
#N canvas 0 50 450 300 fadein 0;
#X obj 12 41 until;
#X obj 12 70 f;
#X obj 61 70 + 1;
#X obj 12 99 t f f, f 10;
#X obj 12 157 t b b;
#X msg 61 41 0;
#X obj 12 12 inlet;
#X obj 12 128 sel 205, f 8;
#X obj 65 157 t f f;
#X obj 65 186 / 205;
#X obj 65 215 tabwrite \$0-smooth;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 7 0;
#X connect 3 1 2 0;
#X connect 4 0 5 0;
#X connect 4 1 0 1;
#X connect 5 0 1 1;
#X connect 6 0 0 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 9 0;
#X connect 8 1 10 1;
#X connect 9 0 10 0;
#X restore 273 242 pd fadein;
#N canvas 0 50 476 300 fadeout 0;
#X obj 12 41 until;
#X obj 12 70 f;
#X obj 61 70 + 1;
#X obj 12 99 t f f, f 10;
#X obj 12 157 t b b;
#X msg 61 41 0;
#X obj 12 12 inlet;
#X obj 12 128 sel 205, f 8;
#X obj 65 157 t f f;
#X obj 65 186 / 205;
#X obj 202 176 expr $f2-2-$f1;
#X obj 65 215 tabwrite \$0-smooth;
#X obj 297 147 r \$0-window-duration;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 7 0;
#X connect 3 1 2 0;
#X connect 4 0 5 0;
#X connect 4 1 0 1;
#X connect 5 0 1 1;
#X connect 6 0 0 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 9 0;
#X connect 8 1 10 0;
#X connect 9 0 11 0;
#X connect 10 0 11 1;
#X connect 12 0 10 1;
#X restore 273 300 pd fadeout;
#X obj 263 213 delay 10;
#X obj 263 271 delay 10;
#X obj 263 329 delay 10;
#X msg 400 387 2047;
#X obj 263 358 t b b;
#X msg 263 387 0;
#X obj 12 100 + 1;
#X obj 12 71 r \$0-window-smooth;
#X obj 263 416 tabwrite \$0-smooth;
#X obj 12 129 list prepend pass window smooth;
#X obj 12 153 s \$0-params;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 6 0;
#X connect 6 0 7 0;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 7 0 8 0;
#X connect 8 0 10 0;
#X connect 9 0 14 1;
#X connect 10 0 11 0;
#X connect 10 1 9 0;
#X connect 11 0 14 0;
#X connect 12 0 15 0;
#X connect 13 0 12 0;
#X connect 15 0 16 0;
#X restore 12 565 pd smooth;
#N canvas 681 321 450 300 grain 0;
#N canvas 676 0 681 676 grain-duration 0;
#N canvas -8 -8 1366 685 unit-convert 0;
#X obj 62 182 spigot;
#X obj 101 167 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 134 182 spigot;
#X obj 173 167 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 52 12 inlet;
#X obj 52 128 f;
#X obj 101 12 inlet;
#X msg 101 128 1;
#X msg 173 128 1;
#X msg 133 70 0;
#X obj 62 240 expr $f1*$f2*0.001;
#X obj 62 269 list prepend pass duration;
#X obj 62 298 s \$0-params;
#X obj 185 211 r \$0-sample-rate;
#X obj 101 41 t f b;
#X obj 10 41 r \$0-reload;
#X obj 101 99 sel 0 1, f 21;
#X text 59 339 en caso de estar usando la unidad de ms \, la duración
de grano se convierte a samples y luego es enviada;
#X text 257 257 comment;
#X connect 0 0 10 0;
#X connect 1 0 0 1;
#X connect 2 0 11 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 5 0 2 0;
#X connect 6 0 14 0;
#X connect 7 0 1 0;
#X connect 8 0 3 0;
#X connect 9 0 3 0;
#X connect 9 0 1 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 13 0 10 1;
#X connect 14 0 16 0;
#X connect 14 1 9 0;
#X connect 15 0 5 0;
#X connect 16 0 7 0;
#X connect 16 1 8 0;
#X restore 42 121 pd unit-convert;
#N canvas 676 0 681 676 unit-display 0;
#X obj 81 424 f;
#X obj 81 298 spigot;
#X obj 120 283 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 146 298 spigot;
#X obj 185 283 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 239 225 0;
#X obj 12 12 inlet;
#X obj 81 225 f;
#X obj 81 41 inlet;
#X msg 120 225 1;
#X msg 185 225 1;
#X obj 81 472 s \$0-grain-duration-r;
#X msg 81 448 set \$1;
#X obj 81 356 expr $f1/($f2*0.001);
#X obj 146 385 expr $f1*($f2*0.001);
#X obj 81 254 change;
#X obj 81 157 t b f b, f 23;
#X obj 120 186 sel 1 2, f 19;
#X obj 81 99 + 1;
#X obj 81 128 change;
#X obj 218 327 r \$0-sample-rate;
#X obj 81 70 spigot;
#X text 59 12 duración de grano;
#X text 128 41 unidad (0/1 = ms/samples);
#X obj 349 254 symbol;
#X msg 324 225 ms;
#X msg 364 225 samp;
#X msg 349 283 label \$1;
#X obj 349 312 s \$0-grain-duration-unit-r;
#X text 141 522 los efectos de este subparche son sólo gráficos \,
se encarga de convertir el valor previo de la duración de grano al
cambiar de unidad para actualizar el número en la interfaz \, y también
cambia la label para que refleje el cambio de unidad;
#X connect 0 0 12 0;
#X connect 1 0 13 0;
#X connect 2 0 1 1;
#X connect 3 0 14 0;
#X connect 4 0 3 1;
#X connect 5 0 2 0;
#X connect 5 0 4 0;
#X connect 6 0 7 1;
#X connect 7 0 15 0;
#X connect 8 0 21 0;
#X connect 9 0 2 0;
#X connect 10 0 4 0;
#X connect 12 0 11 0;
#X connect 13 0 7 1;
#X connect 13 0 0 0;
#X connect 14 0 7 1;
#X connect 14 0 0 0;
#X connect 15 0 1 0;
#X connect 15 0 3 0;
#X connect 16 0 7 0;
#X connect 16 1 17 0;
#X connect 16 2 5 0;
#X connect 17 0 9 0;
#X connect 17 0 25 0;
#X connect 17 1 10 0;
#X connect 17 1 26 0;
#X connect 18 0 19 0;
#X connect 19 0 16 0;
#X connect 20 0 13 1;
#X connect 20 0 14 1;
#X connect 20 0 21 1;
#X connect 21 0 18 0;
#X connect 24 0 27 0;
#X connect 25 0 24 0;
#X connect 26 0 24 0;
#X connect 27 0 28 0;
#X restore 42 72 pd unit-display;
#X obj 12 33 r \$0-grain-duration;
#X obj 174 33 r \$0-grain-duration-unit;
#X connect 2 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 1 1;
#X connect 3 0 0 1;
#X restore 12 12 pd grain-duration;
#N canvas -7 0 681 676 grain-rate 0;
#X obj 29 135 r \$0-grain-rate;
#X obj 191 135 r \$0-grain-rate-unit;
#N canvas -8 -8 1366 685 unit-convert 0;
#X obj 72 182 spigot;
#X obj 111 167 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 161 182 spigot;
#X obj 200 167 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 62 12 inlet;
#X obj 62 128 f;
#X obj 111 12 inlet;
#X msg 111 128 1;
#X msg 200 128 1;
#X msg 143 70 0;
#X obj 161 211 expr $f1/($f2*0.001);
#X obj 72 250 list prepend rate;
#X obj 72 274 s \$0-params;
#X obj 298 182 r \$0-sample-rate;
#X obj 111 99 sel 0 1, f 26;
#X obj 111 41 t f b;
#X obj 20 41 r \$0-reload;
#X connect 0 0 11 0;
#X connect 1 0 0 1;
#X connect 2 0 10 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 5 0 2 0;
#X connect 6 0 15 0;
#X connect 7 0 1 0;
#X connect 8 0 3 0;
#X connect 9 0 3 0;
#X connect 9 0 1 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 13 0 10 1;
#X connect 14 0 7 0;
#X connect 14 1 8 0;
#X connect 15 0 14 0;
#X connect 15 1 9 0;
#X connect 16 0 5 0;
#X restore 59 216 pd unit-convert;
#N canvas -8 -8 1366 685 unit-display 0;
#X obj 61 444 f;
#X obj 61 318 spigot;
#X obj 100 303 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 122 318 spigot;
#X obj 161 303 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 212 245 0;
#X obj 12 12 inlet;
#X obj 61 245 f;
#X obj 61 41 inlet;
#X msg 100 245 1;
#X msg 161 245 1;
#X msg 61 473 set \$1;
#X obj 61 376 expr $f1/($f2*0.001);
#X obj 122 405 expr $f1*($f2*0.001);
#X obj 61 502 s \$0-grain-rate-r;
#X obj 61 157 t b f b, f 22;
#X obj 61 99 + 1;
#X obj 61 128 change;
#X obj 100 186 sel 1 2, f 18;
#X obj 198 346 r \$0-sample-rate;
#X obj 61 70 spigot;
#X text 67 550 los efectos de este subparche son sólo gráficos \,
se encarga de convertir el valor previo de frecuencia de encendido
automático de los granos al cambiar de unidad para actualizar el número
en la interfaz \, y también cambia la label para que refleje el cambio
de unidad;
#X text 56 12 frecuencia de encendido;
#X text 106 40 unidad de frecuencia (0/1 = ms/samples);
#X obj 324 264 symbol;
#X msg 307 235 ms;
#X msg 340 235 samp;
#X msg 324 293 label \$1;
#X obj 324 322 s \$0-grain-rate-unit-r;
#X connect 0 0 11 0;
#X connect 1 0 12 0;
#X connect 2 0 1 1;
#X connect 3 0 13 0;
#X connect 4 0 3 1;
#X connect 5 0 2 0;
#X connect 5 0 4 0;
#X connect 6 0 7 1;
#X connect 7 0 1 0;
#X connect 7 0 3 0;
#X connect 8 0 20 0;
#X connect 9 0 2 0;
#X connect 10 0 4 0;
#X connect 11 0 14 0;
#X connect 12 0 0 0;
#X connect 12 0 7 1;
#X connect 13 0 0 0;
#X connect 13 0 7 1;
#X connect 15 0 7 0;
#X connect 15 1 18 0;
#X connect 15 2 5 0;
#X connect 16 0 17 0;
#X connect 17 0 15 0;
#X connect 18 0 9 0;
#X connect 18 0 25 0;
#X connect 18 1 10 0;
#X connect 18 1 26 0;
#X connect 19 0 12 1;
#X connect 19 0 13 1;
#X connect 19 0 20 1;
#X connect 20 0 16 0;
#X connect 24 0 27 0;
#X connect 25 0 24 0;
#X connect 26 0 24 0;
#X connect 27 0 28 0;
#X restore 59 167 pd unit-display;
#X obj 465 186 list prepend rate metro;
#X obj 465 210 s \$0-params;
#X obj 465 162 r \$0-grain-auto;
#X connect 0 0 2 0;
#X connect 0 0 3 0;
#X connect 1 0 3 1;
#X connect 1 0 2 1;
#X connect 4 0 5 0;
#X connect 6 0 4 0;
#X restore 145 12 pd grain-rate;
#X restore 12 493 pd grain;
#X obj 566 216 hsl 199 10 0 100 0 0 \$0-playhead \$0-playhead-r empty
-2 -8 0 10 -260145 -262144 -183085 0 0;
#X obj 456 225 nbx 5 15 1 1e+037 0 0 \$0-grain-rate \$0-grain-rate-r
rate 0 -8 0 10 -260145 -262144 -133184 253 256;
#X obj 563 301 nbx 5 15 -1e+037 1e+037 0 0 \$0-offset-playhead \$0-offset-playhead-r
offset 0 -8 0 10 -260145 -262144 -133184 5267.59 256;
#X obj 563 333 nbx 3 15 0 100 0 0 \$0-offset-playhead-chance \$0-offset-playhead-chance-r
chance 0 -8 0 10 -260145 -262144 -133184 100 256;
#X obj 607 291 hradio 10 1 0 2 \$0-offset-playhead-unit \$0-offset-playhead-unit-r
ms 13 18 0 10 -260145 -262144 -133184 0;
#X obj 500 215 hradio 10 1 0 2 \$0-grain-rate-unit \$0-grain-rate-unit-r
ms 13 18 0 10 -260145 -262144 -133184 0;
#X obj 477 254 cnv 15 30 6 empty \$0-text envelope: 1 2 0 10 -262144
-133184 0;
#X obj 597 246 nbx 5 15 -1e+037 1e+037 0 0 \$0-speed \$0-speed-r %
58 8 0 10 -260145 -262144 -133184 0 256;
#X obj 477 265 nbx 5 15 0 1e+037 0 0 \$0-att \$0-att-r ms 58 8 0 10
-260145 -262144 -133184 0 256;
#X obj 477 285 nbx 5 15 0 1e+037 0 0 \$0-dec \$0-dec-r ms 58 8 0 10
-260145 -262144 -133184 0 256;
#X obj 477 305 nbx 5 15 0 100 0 0 \$0-sus \$0-sus-r % 58 8 0 10 -260145
-262144 -133184 100 256;
#X obj 477 325 nbx 5 15 0 1e+037 0 0 \$0-rel \$0-rel-r ms 58 8 0 10
-260145 -262144 -133184 0 256;
#X obj 456 265 cnv 15 15 15 empty \$0-text att 0 6 0 10 -262144 -133184
0;
#X obj 563 231 tgl 10 0 \$0-playhead-reset \$0-playhead-reset-r reset_on_noteon
15 4 0 10 -260145 -262144 -133184 0 1;
#N canvas -8 -8 1366 685 player 0;
#X obj 12 196 list prepend;
#X obj 12 225 list trim;
#X msg 70 167 manual;
#X msg 116 167 noteon;
#X obj 337 148 t b b;
#X msg 293 206 0;
#X msg 348 206 1;
#X obj 309 322 spigot;
#X obj 309 350 * 0.01;
#X obj 12 22 r \$0-playhead;
#X obj 293 51 r \$0-play;
#X obj 309 235 r \$0-speed;
#X obj 61 80 r \$0-playhead-reset;
#X obj 309 293 f;
#X obj 12 167 f;
#X obj 61 109 t b f;
#X obj 293 109 sel 0 1, f 13;
#X obj 93 138 sel 0 1;
#X obj 12 51 * 0.01;
#X obj 293 379 list prepend pass playhead speed;
#X obj 293 403 s \$0-params;
#X obj 12 254 list prepend pass playhead pos;
#X obj 12 278 s \$0-params;
#X connect 0 0 1 0;
#X connect 1 0 21 0;
#X connect 2 0 0 1;
#X connect 3 0 0 1;
#X connect 4 0 13 0;
#X connect 4 1 6 0;
#X connect 5 0 7 1;
#X connect 5 0 19 0;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X connect 8 0 19 0;
#X connect 9 0 18 0;
#X connect 10 0 16 0;
#X connect 11 0 13 0;
#X connect 12 0 15 0;
#X connect 13 0 7 0;
#X connect 14 0 0 0;
#X connect 15 0 14 0;
#X connect 15 1 17 0;
#X connect 16 0 5 0;
#X connect 16 1 4 0;
#X connect 17 0 2 0;
#X connect 17 1 3 0;
#X connect 18 0 14 0;
#X connect 19 0 20 0;
#X connect 21 0 22 0;
#X restore 12 541 pd player;
#X obj 568 267 cnv 2 265 1 empty \$0-bar empty 20 12 0 14 -133184 -70738
0;
#X obj 779 222 cnv 15 58 28 empty \$0-waveformBg-r empty 20 12 0 14
-133184 -1 0;
#N canvas 0 50 450 250 (subpatch) 0;
#X array \$0-win 2048 float 2;
#X coords 0 1 2048 -1 60 30 1 0 0;
#X restore 778 221 graph;
#X obj 673 246 nbx 3 15 -1e+037 1e+037 0 0 \$0-sample-note \$0-sample-note-r
note 41 7 0 10 -260145 -262144 -133184 48 256;
#X obj 566 365 hsl 62 10 0 100 0 0 \$0-offset-playhead-precision \$0-offset-playhead-precision-r
precision -2 -8 0 10 -260145 -262144 -133184 0 0;
#X obj 727 152 bng 10 250 50 0 \$0-loadFile \$0-loadFile-r load 15
4 0 10 -260145 -262144 -133184;
#N canvas 0 50 450 300 offset 0;
#N canvas -8 -8 1366 685 offset-pitch 0;
#X obj 222 167 symbol;
#X obj 768 41 expr (100-$f1)*0.01;
#X obj 12 12 r \$0-offset-pitch;
#X obj 222 70 r \$0-offset-pitch-unit;
#N canvas -8 -8 1366 685 unit-convert 0;
#X obj 22 182 spigot;
#X obj 61 167 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 95 182 spigot;
#X obj 134 167 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 22 12 inlet;
#X obj 22 128 f;
#X obj 71 12 inlet;
#X obj 61 70 list trim;
#X msg 61 128 1;
#X msg 222 128 1;
#X obj 61 41 t a b, f 11;
#X msg 135 128 0;
#X obj 95 211 expr $f1*0.01;
#X obj 61 99 route m c, f 26;
#X obj 22 274 s \$0-params;
#X obj 22 250 list prepend pass offset pitch;
#X connect 0 0 15 0;
#X connect 1 0 0 1;
#X connect 2 0 12 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 5 0 2 0;
#X connect 6 0 10 0;
#X connect 7 0 13 0;
#X connect 8 0 1 0;
#X connect 9 0 3 0;
#X connect 10 0 7 0;
#X connect 10 1 11 0;
#X connect 11 0 3 0;
#X connect 11 0 1 0;
#X connect 12 0 15 0;
#X connect 13 0 8 0;
#X connect 13 1 9 0;
#X connect 15 0 14 0;
#X restore 12 196 pd unit-convert;
#X msg 222 196 label \$1;
#X obj 222 99 sel 0 1, f 9;
#X obj 768 12 r \$0-offset-pitch-precision;
#X obj 464 12 r \$0-offset-pitch-chance;
#N canvas 676 0 681 676 unit-display 0;
#X obj 71 366 f;
#X obj 71 240 spigot;
#X obj 110 225 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 136 240 spigot;
#X obj 175 225 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 229 167 0;
#X obj 12 12 inlet;
#X obj 71 167 f;
#X obj 71 12 inlet;
#X msg 110 167 1;
#X msg 175 167 1;
#X msg 71 395 set \$1;
#X obj 71 196 change;
#X obj 71 99 t b f b, f 23;
#X obj 110 138 sel 1 2, f 19;
#X obj 71 41 + 1;
#X obj 71 70 change;
#X obj 71 298 expr $f1*0.01;
#X obj 136 327 expr $f1*100;
#X obj 71 424 s \$0-offset-pitch-r;
#X connect 0 0 11 0;
#X connect 1 0 17 0;
#X connect 2 0 1 1;
#X connect 3 0 18 0;
#X connect 4 0 3 1;
#X connect 5 0 2 0;
#X connect 5 0 4 0;
#X connect 6 0 7 1;
#X connect 7 0 12 0;
#X connect 8 0 15 0;
#X connect 9 0 2 0;
#X connect 10 0 4 0;
#X connect 11 0 19 0;
#X connect 12 0 1 0;
#X connect 12 0 3 0;
#X connect 13 0 7 0;
#X connect 13 1 14 0;
#X connect 13 2 5 0;
#X connect 14 0 9 0;
#X connect 14 1 10 0;
#X connect 15 0 16 0;
#X connect 16 0 13 0;
#X connect 17 0 0 0;
#X connect 17 0 7 1;
#X connect 18 0 0 0;
#X connect 18 0 7 1;
#X restore 32 167 pd unit-display;
#X obj 222 225 s \$0-offset-pitch-unit-r;
#X msg 222 128 m;
#X msg 252 128 c;
#X obj 768 119 s \$0-params;
#X obj 768 70 list prepend pass offset pitch precis;
#X obj 464 70 list prepend pass offset pitch chance;
#X connect 0 0 4 1;
#X connect 0 0 5 0;
#X connect 1 0 14 0;
#X connect 2 0 4 0;
#X connect 2 0 9 0;
#X connect 3 0 6 0;
#X connect 3 0 9 1;
#X connect 5 0 10 0;
#X connect 6 0 11 0;
#X connect 6 1 12 0;
#X connect 7 0 1 0;
#X connect 8 0 15 0;
#X connect 11 0 0 0;
#X connect 12 0 0 0;
#X connect 14 0 13 0;
#X connect 15 0 13 0;
#X restore 152 11 pd offset-pitch;
#N canvas -8 -8 1366 685 offset-duration 0;
#X obj 243 157 symbol;
#X msg 243 128 ms;
#X obj 768 41 expr (100-$f1)*0.01;
#N canvas -8 -8 1366 685 unit-convert 0;
#X obj 22 182 spigot;
#X obj 61 167 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 95 182 spigot;
#X obj 134 167 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 22 12 inlet;
#X obj 22 128 f;
#X obj 71 12 inlet;
#X obj 61 70 list trim;
#X msg 61 128 1;
#X msg 222 128 1;
#X obj 61 41 t a b, f 11;
#X msg 135 128 0;
#X obj 22 240 expr $f1*$f2*0.001;
#X obj 61 99 route ms sp, f 26;
#X obj 22 269 list prepend pass offset duration;
#X obj 22 293 s \$0-params;
#X obj 145 211 r \$0-sample-rate;
#X connect 0 0 12 0;
#X connect 1 0 0 1;
#X connect 2 0 14 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 5 0 2 0;
#X connect 6 0 10 0;
#X connect 7 0 13 0;
#X connect 8 0 1 0;
#X connect 9 0 3 0;
#X connect 10 0 7 0;
#X connect 10 1 11 0;
#X connect 11 0 3 0;
#X connect 11 0 1 0;
#X connect 12 0 14 0;
#X connect 13 0 8 0;
#X connect 13 1 9 0;
#X connect 14 0 15 0;
#X connect 16 0 12 1;
#X restore 12 186 pd unit-convert;
#X obj 12 12 r \$0-offset-duration;
#X obj 243 70 r \$0-offset-duration-unit;
#X msg 243 186 label \$1;
#X obj 243 99 sel 0 1;
#X obj 768 12 r \$0-offset-duration-precision;
#X obj 464 12 r \$0-offset-duration-chance;
#N canvas 676 0 681 676 unit-display 0;
#X obj 71 395 f;
#X obj 71 269 spigot;
#X obj 110 254 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 136 269 spigot;
#X obj 175 254 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 229 196 0;
#X obj 12 12 inlet;
#X obj 71 196 f;
#X obj 71 12 inlet;
#X msg 110 196 1;
#X msg 175 196 1;
#X msg 71 419 set \$1;
#X obj 71 327 expr $f1/($f2*0.001);
#X obj 136 356 expr $f1*($f2*0.001);
#X obj 71 225 change;
#X obj 71 128 t b f b, f 23;
#X obj 110 167 sel 1 2, f 19;
#X obj 71 70 + 1;
#X obj 71 99 change;
#X obj 71 443 s \$0-offset-duration-r;
#X obj 208 298 r \$0-sample-rate;
#X obj 71 41 spigot;
#X connect 0 0 11 0;
#X connect 1 0 12 0;
#X connect 2 0 1 1;
#X connect 3 0 13 0;
#X connect 4 0 3 1;
#X connect 5 0 2 0;
#X connect 5 0 4 0;
#X connect 6 0 7 1;
#X connect 7 0 14 0;
#X connect 8 0 21 0;
#X connect 9 0 2 0;
#X connect 10 0 4 0;
#X connect 11 0 19 0;
#X connect 12 0 7 1;
#X connect 12 0 0 0;
#X connect 13 0 7 1;
#X connect 13 0 0 0;
#X connect 14 0 1 0;
#X connect 14 0 3 0;
#X connect 15 0 7 0;
#X connect 15 1 16 0;
#X connect 15 2 5 0;
#X connect 16 0 9 0;
#X connect 16 1 10 0;
#X connect 17 0 18 0;
#X connect 18 0 15 0;
#X connect 20 0 12 1;
#X connect 20 0 13 1;
#X connect 20 0 21 1;
#X connect 21 0 17 0;
#X restore 32 157 pd unit-display;
#X obj 243 215 s \$0-offset-duration-unit-r;
#X msg 268 128 sp;
#X obj 768 139 s \$0-params;
#X obj 768 70 list prepend pass offset duration precis;
#X obj 464 70 list prepend pass offset duration chance;
#X connect 0 0 3 1;
#X connect 0 0 6 0;
#X connect 1 0 0 0;
#X connect 2 0 14 0;
#X connect 4 0 3 0;
#X connect 4 0 10 0;
#X connect 5 0 7 0;
#X connect 5 0 10 1;
#X connect 6 0 11 0;
#X connect 7 0 1 0;
#X connect 7 1 12 0;
#X connect 8 0 2 0;
#X connect 9 0 15 0;
#X connect 12 0 0 0;
#X connect 14 0 13 0;
#X connect 15 0 13 0;
#X restore 271 11 pd offset-duration;
#N canvas -8 -8 1366 685 offset-playhead 0;
#X obj 215 157 symbol;
#X msg 215 128 ms;
#X obj 768 41 expr (100-$f1)*0.01;
#N canvas -8 -8 1366 685 unit-convert 0;
#X obj 22 182 spigot;
#X obj 61 167 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 95 182 spigot;
#X obj 134 167 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 22 12 inlet;
#X obj 22 128 f;
#X obj 71 12 inlet;
#X obj 61 70 list trim;
#X msg 61 128 1;
#X msg 222 128 1;
#X obj 61 41 t a b, f 11;
#X msg 135 128 0;
#X obj 22 240 expr $f1*$f2*0.001;
#X obj 61 99 route ms sp, f 26;
#X obj 22 279 list prepend pass offset playhead;
#X obj 22 303 s \$0-params;
#X obj 145 211 r \$0-sample-rate;
#X connect 0 0 12 0;
#X connect 1 0 0 1;
#X connect 2 0 14 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 5 0 2 0;
#X connect 6 0 10 0;
#X connect 7 0 13 0;
#X connect 8 0 1 0;
#X connect 9 0 3 0;
#X connect 10 0 7 0;
#X connect 10 1 11 0;
#X connect 11 0 3 0;
#X connect 11 0 1 0;
#X connect 12 0 14 0;
#X connect 13 0 8 0;
#X connect 13 1 9 0;
#X connect 14 0 15 0;
#X connect 16 0 12 1;
#X restore 12 215 pd unit-convert;
#X msg 215 186 label \$1;
#X obj 215 99 sel 0 1;
#X obj 215 70 r \$0-offset-playhead-unit;
#X obj 768 12 r \$0-offset-playhead-precision;
#X obj 464 12 r \$0-offset-playhead-chance;
#X obj 12 12 r \$0-offset-playhead;
#X obj 215 215 s \$0-offset-playhead-unit-r;
#N canvas 676 0 681 676 unit-display 0;
#X obj 71 395 f;
#X obj 71 269 spigot;
#X obj 110 254 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 136 269 spigot;
#X obj 175 254 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 229 196 0;
#X obj 12 12 inlet;
#X obj 71 196 f;
#X obj 71 12 inlet;
#X msg 110 196 1;
#X msg 175 196 1;
#X msg 71 419 set \$1;
#X obj 71 327 expr $f1/($f2*0.001);
#X obj 136 356 expr $f1*($f2*0.001);
#X obj 71 225 change;
#X obj 71 128 t b f b, f 23;
#X obj 110 167 sel 1 2, f 19;
#X obj 71 70 + 1;
#X obj 71 99 change;
#X obj 71 443 s \$0-offset-playhead-r;
#X obj 208 298 r \$0-sample-rate;
#X obj 71 41 spigot;
#X connect 0 0 11 0;
#X connect 1 0 12 0;
#X connect 2 0 1 1;
#X connect 3 0 13 0;
#X connect 4 0 3 1;
#X connect 5 0 2 0;
#X connect 5 0 4 0;
#X connect 6 0 7 1;
#X connect 7 0 14 0;
#X connect 8 0 21 0;
#X connect 9 0 2 0;
#X connect 10 0 4 0;
#X connect 11 0 19 0;
#X connect 12 0 7 1;
#X connect 12 0 0 0;
#X connect 13 0 7 1;
#X connect 13 0 0 0;
#X connect 14 0 1 0;
#X connect 14 0 3 0;
#X connect 15 0 7 0;
#X connect 15 1 16 0;
#X connect 15 2 5 0;
#X connect 16 0 9 0;
#X connect 16 1 10 0;
#X connect 17 0 18 0;
#X connect 18 0 15 0;
#X connect 20 0 12 1;
#X connect 20 0 13 1;
#X connect 20 0 21 1;
#X connect 21 0 17 0;
#X restore 32 186 pd unit-display;
#X msg 240 128 sp;
#X obj 768 70 list prepend pass offset playhead precis;
#X obj 768 119 s \$0-params;
#X obj 464 70 list prepend pass offset playhead chance;
#X connect 0 0 3 1;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 2 0 13 0;
#X connect 4 0 10 0;
#X connect 5 0 1 0;
#X connect 5 1 12 0;
#X connect 6 0 5 0;
#X connect 6 0 11 1;
#X connect 7 0 2 0;
#X connect 8 0 15 0;
#X connect 9 0 3 0;
#X connect 9 0 11 0;
#X connect 12 0 0 0;
#X connect 13 0 14 0;
#X connect 15 0 14 0;
#X restore 12 11 pd offset-playhead;
#X restore 12 517 pd offset;
#X obj 811 286 vsl 10 101 -100 0 0 0 \$0-out \$0-out-r out: -4 -9 0
10 -260145 -262144 -133184 10000 1;
#X obj 557 157 cnv 2 1 228 empty \$0-bar empty 20 12 0 14 -133184 -70738
0;
#X obj 12 242 *~;
#N canvas 0 50 450 300 out 0;
#X msg 12 114 \$1 1;
#X obj 12 167 outlet~;
#X obj 12 90 dbtorms;
#X obj 12 138 line~;
#X obj 12 37 r \$0-out;
#X obj 12 66 + 100;
#X connect 0 0 3 0;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X restore 216 213 pd out gain;
#X obj 456 365 tgl 10 0 \$0-legato \$0-legato-r legato 15 4 0 10 -260145
-262144 -133184 0 1;
#X obj 456 380 hradio 10 1 0 2 \$0-bendMode \$0-bendMode-r bend:_global
25 4 0 10 -260145 -262144 -133184 0;
#X obj 456 350 hradio 10 1 0 2 \$0-poly \$0-poly-r mono 25 4 0 10 -260145
-262144 -133184 0;
#X obj 461 246 cnv 2 79 1 empty \$0-bar empty 20 12 0 14 -133184 -70738
0;
#X obj 673 231 tgl 10 0 \$0-play \$0-play-r play 15 4 0 10 -260145
-262144 -133184 0 1;
#N canvas -8 -8 1366 685 midi-input 0;
#X obj 93 389 outlet;
#X obj 93 129 - 1;
#X obj 93 188 pack 0 0 0;
#X obj 93 100 poly 16 1, f 10;
#X obj 26 12 inlet;
#X obj 192 168 spigot;
#X obj 177 292 list prepend;
#X obj 177 321 list trim;
#X msg 359 263 all;
#X obj 359 176 sel 0 1, f 10;
#X msg 177 263 bend \$1;
#X obj 12 100 poly 1 1, f 10;
#X obj 12 129 - 1;
#X obj 12 188 pack 0 0 0;
#X obj 93 321 spigot;
#X obj 132 306 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 12 321 spigot;
#X obj 51 306 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 258 263 spigot;
#X msg 297 244 1;
#X msg 322 244 0;
#X obj 359 205 t b b;
#N canvas -8 -8 1366 685 polystuff 0;
#X obj 12 100 sel 0 1, f 9;
#X obj 12 70 t f b;
#X msg 96 100 0;
#X obj 12 149 outlet;
#X obj 96 149 outlet;
#X obj 12 41 r \$0-poly;
#X connect 0 0 3 0;
#X connect 0 1 4 0;
#X connect 1 0 0 0;
#X connect 1 1 2 0;
#X connect 2 0 4 0;
#X connect 2 0 3 0;
#X connect 5 0 1 0;
#X restore 51 277 pd polystuff;
#X text 645 86 cada mensaje noteoff se envía a la voz más antigua
que esté ocupada con sus respectiva nota;
#X text 645 11 cada mensaje noteon se envía a la siguiente voz disponible
en la polifonía \, o si voice_steal esta activado la voz más antigua
en caso de no haber voces disponibles;
#X text 237 168 filtrar noteoff;
#X msg 428 321 label \$1;
#X obj 428 297 symbol;
#X obj 26 41 route bend;
#X obj 160 51 r \$0-steal;
#X text 562 276 los valores de pitch bend se envían a las 16 voces
o a la voz más nueva en la polifonía \, dependiendo si el bend es
global o last_note respectivamente;
#X msg 428 244 bend:_global;
#X msg 438 268 bend:_last;
#X obj 177 90 expr (($f1/16383)-0.5)*$f2;
#X obj 356 42 r \$0-bendRange;
#X obj 356 66 * 2;
#X obj 428 345 s \$0-bendMode-r;
#X obj 359 147 r \$0-bendMode;
#X connect 1 0 2 0;
#X connect 1 0 5 0;
#X connect 2 0 14 0;
#X connect 3 0 1 0;
#X connect 3 1 2 1;
#X connect 3 2 2 2;
#X connect 3 2 5 1;
#X connect 4 0 28 0;
#X connect 5 0 18 0;
#X connect 6 0 7 0;
#X connect 7 0 0 0;
#X connect 8 0 6 1;
#X connect 9 0 21 0;
#X connect 9 1 19 0;
#X connect 9 1 32 0;
#X connect 10 0 6 0;
#X connect 11 0 12 0;
#X connect 11 1 13 1;
#X connect 11 2 13 2;
#X connect 12 0 13 0;
#X connect 13 0 16 0;
#X connect 14 0 0 0;
#X connect 15 0 14 1;
#X connect 16 0 0 0;
#X connect 17 0 16 1;
#X connect 18 0 6 1;
#X connect 19 0 18 1;
#X connect 20 0 18 1;
#X connect 21 0 8 0;
#X connect 21 0 31 0;
#X connect 21 1 20 0;
#X connect 22 0 17 0;
#X connect 22 1 15 0;
#X connect 26 0 36 0;
#X connect 27 0 26 0;
#X connect 28 0 33 0;
#X connect 28 1 3 0;
#X connect 28 1 11 0;
#X connect 29 0 3 1;
#X connect 31 0 27 0;
#X connect 32 0 27 0;
#X connect 33 0 10 0;
#X connect 34 0 35 0;
#X connect 35 0 33 1;
#X connect 37 0 9 0;
#X restore 12 160 pd midi-input;
#N canvas 676 0 681 676 voices 0;
#X msg 12 135 1;
#X msg 47 135 0;
#X obj 12 106 delay 10;
#X obj 112 106 symbol;
#X msg 112 130 label \$1;
#X obj 112 53 sel 0 1, f 12;
#X obj 12 12 r \$0-poly;
#X msg 112 77 mono;
#X msg 152 77 poly;
#X obj 112 154 s \$0-poly-r;
#X obj 12 275 outlet;
#X obj 12 193 list prepend power;
#X obj 12 61 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 0 0 11 0;
#X connect 1 0 11 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 4 0 9 0;
#X connect 5 0 7 0;
#X connect 5 1 8 0;
#X connect 6 0 5 0;
#X connect 6 0 12 0;
#X connect 7 0 3 0;
#X connect 8 0 3 0;
#X connect 11 0 10 0;
#X connect 12 0 1 0;
#X connect 12 0 2 0;
#X restore 121 120 pd voices;
#X f 11;
#X obj 456 200 tgl 10 0 \$0-grain-auto \$0-grain-auto-r autotrigger
15 4 0 10 -260145 -262144 -133184 1 1;
#X obj 12 131 inlet, f 7;
#X obj 404 22 inlet;
#N canvas -8 -8 1366 685 route-inlet-messages 0;
#X obj 12 12 inlet;
#N canvas 676 0 681 676 state 0;
#X obj 66 30 inlet;
#X obj 66 59 t b b;
#X msg 98 88 set;
#X obj 66 214 s \$0-state;
#N canvas 624 244 669 300 grain 0;
#X obj 54 60 f;
#X obj 54 7 inlet;
#X obj 54 266 outlet;
#X obj 72 36 r \$0-grain-duration-unit;
#X obj 100 83 r \$0-grain-duration;
#X obj 147 112 r \$0-grain-rate-unit;
#X obj 193 141 r \$0-grain-rate;
#X obj 54 170 pack f f f f f, f 27;
#X msg 54 199 add2 grain duration unit \$1 \, addcomma \, add2 grain
duration \$2 \, addcomma \, add2 grain rate unit \$3 \, addcomma \,
add2 grain rate \$4 \, addcomma \, add2 grain auto \$5 \, addcomma
;
#X obj 240 83 r \$0-grain-auto;
#X connect 0 0 7 0;
#X connect 1 0 0 0;
#X connect 3 0 0 1;
#X connect 4 0 7 1;
#X connect 5 0 7 2;
#X connect 6 0 7 3;
#X connect 7 0 8 0;
#X connect 8 0 2 0;
#X connect 9 0 7 4;
#X restore 469 175 pd grain;
#N canvas 581 299 669 300 sample 0;
#X obj 54 60 f;
#X obj 54 7 inlet;
#X obj 54 284 outlet;
#X obj 72 36 r \$0-play;
#X obj 101 83 r \$0-playhead;
#X obj 148 112 r \$0-playhead-reset;
#X obj 195 141 r \$0-speed;
#X obj 242 83 r \$0-sample-note;
#X obj 289 141 r \$0-sample-path;
#X obj 54 170 pack f f f f f s, f 34;
#X msg 54 199 add2 sample play \$1 \, addcomma \, add2 sample playhead
\$2 \, addcomma \, add2 sample playhead reset \$3 \, addcomma \, add2
sample speed \$4 \, addcomma \, add2 sample note \$5 \, addcomma \,
add2 load sample \$6 \, addcomma;
#X connect 0 0 9 0;
#X connect 1 0 0 0;
#X connect 3 0 0 1;
#X connect 4 0 9 1;
#X connect 5 0 9 2;
#X connect 6 0 9 3;
#X connect 7 0 9 4;
#X connect 8 0 9 5;
#X connect 9 0 10 0;
#X connect 10 0 2 0;
#X restore 388 175 pd sample;
#N canvas 588 299 669 300 window 0;
#X obj 54 60 f;
#X obj 54 7 inlet;
#X obj 54 242 outlet;
#X obj 72 36 r \$0-window-sel;
#X obj 87 83 r \$0-window-smooth;
#X obj 121 112 r \$0-window-path;
#X obj 54 170 pack f f s;
#X msg 54 199 add2 window shape \$1 \, addcomma \, add2 window smooth
\$2 \, addcomma \, add2 load window \$3 \, addcomma;
#X connect 0 0 6 0;
#X connect 1 0 0 0;
#X connect 3 0 0 1;
#X connect 4 0 6 1;
#X connect 5 0 6 2;
#X connect 6 0 7 0;
#X connect 7 0 2 0;
#X restore 307 175 pd window;
#N canvas 617 313 669 300 offset 0;
#X obj 54 7 inlet;
#X obj 100 152 outlet;
#X obj 54 36 t b b b;
#N canvas 709 299 669 300 playhead 0;
#X obj 54 60 f;
#X obj 54 7 inlet;
#X obj 54 266 outlet;
#X obj 54 170 pack f f f f, f 20;
#X obj 72 36 r \$0-offset-playhead-unit;
#X obj 99 83 r \$0-offset-playhead;
#X obj 145 112 r \$0-offset-playhead-chance;
#X obj 191 141 r \$0-offset-playhead-precision;
#X msg 54 199 add2 offset playhead unit \$1 \, addcomma \, add2 offset
playhead \$2 \, addcomma \, add2 offset playhead chance \$3 \, addcomma
\, add2 offset playhead precision \$4 \, addcomma;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 3 0 8 0;
#X connect 4 0 0 1;
#X connect 5 0 3 1;
#X connect 6 0 3 2;
#X connect 7 0 3 3;
#X connect 8 0 2 0;
#X restore 100 65 pd playhead;
#N canvas 709 299 669 300 pitch 0;
#X obj 54 60 f;
#X obj 54 7 inlet;
#X obj 54 266 outlet;
#X obj 54 170 pack f f f f, f 20;
#X obj 72 36 r \$0-offset-pitch-unit;
#X obj 99 83 r \$0-offset-pitch;
#X obj 145 112 r \$0-offset-pitch-chance;
#X obj 191 141 r \$0-offset-pitch-precision;
#X msg 54 199 add2 offset pitch unit \$1 \, addcomma \, add2 offset
pitch \$2 \, addcomma \, add2 offset pitch chance \$3 \, addcomma \,
add2 offset pitch precision \$4 \, addcomma;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 3 0 8 0;
#X connect 4 0 0 1;
#X connect 5 0 3 1;
#X connect 6 0 3 2;
#X connect 7 0 3 3;
#X connect 8 0 2 0;
#X restore 77 94 pd pitch;
#N canvas 709 299 669 300 duration 0;
#X obj 54 60 f;
#X obj 54 7 inlet;
#X obj 54 266 outlet;
#X obj 54 170 pack f f f f, f 20;
#X obj 72 36 r \$0-offset-duration-unit;
#X obj 99 83 r \$0-offset-duration;
#X obj 145 112 r \$0-offset-duration-chance;
#X obj 191 141 r \$0-offset-duration-precision;
#X msg 54 199 add2 offset duration unit \$1 \, addcomma \, add2 offset
duration \$2 \, addcomma \, add2 offset duration chance \$3 \, addcomma
\, add2 offset duration precision \$4 \, addcomma;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 3 0 8 0;
#X connect 4 0 0 1;
#X connect 5 0 3 1;
#X connect 6 0 3 2;
#X connect 7 0 3 3;
#X connect 8 0 2 0;
#X restore 54 123 pd duration;
#X connect 0 0 2 0;
#X connect 2 0 5 0;
#X connect 2 1 4 0;
#X connect 2 2 3 0;
#X connect 3 0 1 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X restore 227 175 pd offset;
#X obj 66 146 t b b b b b b, f 58;
#N canvas 631 278 669 300 adsr 0;
#X obj 54 60 f;
#X obj 54 7 inlet;
#X obj 54 252 outlet;
#X obj 72 36 r \$0-att;
#X obj 99 83 r \$0-dec;
#X obj 145 112 r \$0-sus;
#X obj 191 141 r \$0-rel;
#X obj 54 170 pack f f f f, f 20;
#X msg 54 199 add2 att \$1 \, addcomma \, add2 dec \$2 \, addcomma
\, add2 sus \$3 \, addcomma \, add2 rel \$4 \, addcomma;
#X connect 0 0 7 0;
#X connect 1 0 0 0;
#X connect 3 0 0 1;
#X connect 4 0 7 1;
#X connect 5 0 7 2;
#X connect 6 0 7 3;
#X connect 7 0 8 0;
#X connect 8 0 2 0;
#X restore 146 175 pd adsr;
#N canvas 355 286 669 300 global 0;
#X obj 54 60 f;
#X obj 54 7 inlet;
#X obj 54 258 outlet;
#X obj 72 36 r \$0-poly;
#X obj 90 89 r \$0-legato;
#X obj 198 89 r \$0-out;
#X obj 126 118 r \$0-bendMode;
#X obj 162 147 r \$0-bendRange;
#X obj 54 176 pack f f f f f, f 21;
#X msg 54 205 add2 poly \$1 \, addcomma \, add2 legato \$2 \, addcomma
\, add2 bendMode \$3 \, addcomma \, add2 bendRange \$4 \, addcomma
\, add2 out \$5;
#X connect 0 0 8 0;
#X connect 1 0 0 0;
#X connect 3 0 0 1;
#X connect 4 0 8 1;
#X connect 5 0 8 4;
#X connect 6 0 8 2;
#X connect 7 0 8 3;
#X connect 8 0 9 0;
#X connect 9 0 2 0;
#X restore 66 175 pd global;
#X connect 0 0 1 0;
#X connect 1 0 8 0;
#X connect 1 1 2 0;
#X connect 2 0 3 0;
#X connect 4 0 3 0;
#X connect 5 0 3 0;
#X connect 6 0 3 0;
#X connect 7 0 3 0;
#X connect 8 0 10 0;
#X connect 8 1 9 0;
#X connect 8 2 7 0;
#X connect 8 3 6 0;
#X connect 8 4 5 0;
#X connect 8 5 4 0;
#X connect 9 0 3 0;
#X connect 10 0 3 0;
#X restore 962 354 pd state;
#X obj 317 129 route att dec sus rel, f 45;
#N canvas 162 243 847 300 grain 0;
#X obj 12 12 inlet;
#X obj 212 265 s \$0-error;
#X obj 12 109 route float unit;
#X obj 12 148 s \$0-grain-duration-r;
#X obj 66 201 s \$0-grain-duration-unit-r;
#X obj 228 148 s \$0-grain-rate-r;
#X obj 282 206 s \$0-grain-rate-unit-r;
#X obj 470 80 t b b;
#X msg 502 109 0;
#X msg 435 109 300;
#X msg 470 109 100;
#X obj 228 109 route float unit;
#X obj 470 51 loadbang;
#X obj 66 172 != 0;
#X obj 145 172 != 0;
#X obj 282 177 != 0;
#X obj 12 70 route duration rate auto;
#X msg 400 109 1;
#X obj 145 230 s \$0-grain-auto-r;
#X connect 0 0 16 0;
#X connect 2 0 3 0;
#X connect 2 1 13 0;
#X connect 2 2 1 0;
#X connect 7 0 10 0;
#X connect 7 0 9 0;
#X connect 7 0 17 0;
#X connect 7 1 8 0;
#X connect 8 0 13 0;
#X connect 8 0 15 0;
#X connect 9 0 3 0;
#X connect 10 0 5 0;
#X connect 11 0 5 0;
#X connect 11 1 15 0;
#X connect 11 2 1 0;
#X connect 12 0 7 0;
#X connect 13 0 4 0;
#X connect 14 0 18 0;
#X connect 15 0 6 0;
#X connect 16 0 2 0;
#X connect 16 1 11 0;
#X connect 16 2 14 0;
#X connect 16 3 1 0;
#X connect 17 0 14 0;
#X restore 12 100 pd grain;
#X obj 30 572 r \$0-error;
#X obj 30 596 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 1018 383 s \$0-error;
#N canvas 12 71 847 300 sample 0;
#X obj 12 12 inlet;
#X obj 289 225 s \$0-error;
#X msg 459 51 0;
#X obj 12 109 s \$0-play-r;
#X obj 67 167 s \$0-playhead-r;
#X obj 122 109 s \$0-speed-r;
#X obj 195 138 s \$0-sample-note-r;
#X obj 125 220 s \$0-playhead-reset-r;
#X msg 484 51 48;
#X obj 459 22 loadbang;
#X obj 67 138 route float reset;
#X obj 125 196 != 0;
#X obj 12 80 != 0;
#X obj 12 51 route play playhead speed note, f 32;
#X connect 0 0 13 0;
#X connect 2 0 7 0;
#X connect 2 0 4 0;
#X connect 2 0 5 0;
#X connect 2 0 12 0;
#X connect 8 0 6 0;
#X connect 9 0 2 0;
#X connect 9 0 8 0;
#X connect 10 0 4 0;
#X connect 10 1 11 0;
#X connect 10 2 1 0;
#X connect 11 0 7 0;
#X connect 12 0 3 0;
#X connect 13 0 12 0;
#X connect 13 1 10 0;
#X connect 13 2 5 0;
#X connect 13 3 6 0;
#X connect 13 4 1 0;
#X restore 82 100 pd sample;
#N canvas 99 152 847 300 window 0;
#X obj 12 12 inlet;
#X obj 135 207 s \$0-error;
#X msg 265 51 0;
#X msg 230 51 1;
#X obj 12 90 s \$0-window-sel-r;
#X obj 73 143 s \$0-window-smooth-r;
#X obj 12 51 route shape smooth;
#X obj 265 22 loadbang;
#X obj 73 119 != 0;
#X connect 0 0 6 0;
#X connect 2 0 8 0;
#X connect 3 0 4 0;
#X connect 6 0 4 0;
#X connect 6 1 8 0;
#X connect 6 2 1 0;
#X connect 7 0 2 0;
#X connect 7 0 3 0;
#X connect 8 0 5 0;
#X restore 159 100 pd window;
#N canvas 72 191 847 300 offset 0;
#X obj 12 12 inlet;
#X obj 212 198 s \$0-error;
#N canvas 72 127 847 300 playhead 0;
#X obj 12 12 inlet;
#X obj 240 226 s \$0-error;
#X msg 283 51 0;
#X obj 12 90 s \$0-offset-playhead-r;
#X obj 12 51 route float unit chance precision;
#X obj 69 119 s \$0-offset-playhead-unit-r;
#X obj 126 148 s \$0-offset-playhead-chance-r;
#X obj 183 177 s \$0-offset-playhead-precision-r;
#X obj 283 22 loadbang;
#X connect 0 0 4 0;
#X connect 2 0 5 0;
#X connect 2 0 3 0;
#X connect 2 0 6 0;
#X connect 2 0 7 0;
#X connect 4 0 3 0;
#X connect 4 1 5 0;
#X connect 4 2 6 0;
#X connect 4 3 7 0;
#X connect 4 4 1 0;
#X connect 8 0 2 0;
#X restore 12 80 pd playhead;
#X obj 12 51 route playhead pitch duration;
#N canvas 498 288 847 300 pitch 0;
#X obj 12 12 inlet;
#X obj 240 236 s \$0-error;
#X msg 283 51 0;
#X obj 12 51 route float unit chance precision;
#X obj 12 90 s \$0-offset-pitch-r;
#X obj 69 119 s \$0-offset-pitch-unit-r;
#X obj 126 148 s \$0-offset-pitch-chance-r;
#X obj 183 177 s \$0-offset-pitch-precision-r;
#X obj 283 22 loadbang;
#X connect 0 0 3 0;
#X connect 2 0 4 0;
#X connect 2 0 5 0;
#X connect 2 0 6 0;
#X connect 2 0 7 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 3 2 6 0;
#X connect 3 3 7 0;
#X connect 3 4 1 0;
#X connect 8 0 2 0;
#X restore 103 80 pd pitch;
#N canvas 498 288 847 300 duration 0;
#X obj 12 12 inlet;
#X obj 240 236 s \$0-error;
#X msg 283 51 0;
#X obj 12 51 route float unit chance precision;
#X obj 12 90 s \$0-offset-duration-r;
#X obj 69 119 s \$0-offset-duration-unit-r;
#X obj 126 148 s \$0-offset-duration-chance-r;
#X obj 183 177 s \$0-offset-duration-precision-r;
#X obj 283 22 loadbang;
#X connect 0 0 3 0;
#X connect 2 0 4 0;
#X connect 2 0 5 0;
#X connect 2 0 6 0;
#X connect 2 0 7 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 3 2 6 0;
#X connect 3 3 7 0;
#X connect 3 4 1 0;
#X connect 8 0 2 0;
#X restore 173 80 pd duration;
#X connect 0 0 3 0;
#X connect 3 0 2 0;
#X connect 3 1 4 0;
#X connect 3 2 5 0;
#X connect 3 3 1 0;
#X restore 236 100 pd offset;
#X obj 317 158 s \$0-att-r;
#X obj 473 158 s \$0-sus-r;
#X obj 551 158 s \$0-rel-r;
#X obj 629 246 s \$0-poly-r;
#X obj 684 275 s \$0-legato-r;
#X obj 906 275 s \$0-out-r;
#X obj 395 158 s \$0-dec-r;
#X msg 760 93 0;
#X msg 503 93 100;
#X obj 12 71 route grain sample window offset load, f 44;
#N canvas 447 120 450 300 load 0;
#X obj 57 52 inlet;
#X obj 57 76 route sample window;
#X obj 57 105 s \$0-sample-path-r;
#X obj 122 129 s \$0-window-path-r;
#X obj 187 198 s \$0-error;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 1 2 4 0;
#X restore 256 129 pd load;
#X obj 760 64 loadbang;
#X obj 795 275 s \$0-bendMode-r;
#X msg 869 93 2;
#X obj 851 246 s \$0-bendRange;
#X obj 629 216 != 0;
#X obj 684 216 != 0;
#X obj 795 216 != 0;
#X text 125 570 cuando la abstracción reciba un mensaje desconocido
\, se imprimirá un mensaje haciéndolo saber;
#X msg 30 616 se recibió un mensaje desconocido;
#X obj 30 645 print granola~;
#X text 630 495 acá se manipulan los mensajes de control de la abstracción
\; se utiliza el objeto [route] para enviar el valor del mensaje a
su respectivo [send] \, que enviará el valor a su correspondiente
objeto de control en la interfaz (slider \, número \, etc... si lo
hubiera) y luego de ahí a donde se hará efectivo ese valor como parámetro
\; acá se inicializan también los valores por defecto de dichos parámetros
;
#X obj 740 216 != 0;
#X obj 740 246 s \$0-anticlick;
#X obj 629 187 route poly legato anticlick bendMode bendRange out state
;
#X connect 0 0 19 0;
#X connect 2 0 10 0;
#X connect 2 1 16 0;
#X connect 2 2 11 0;
#X connect 2 3 12 0;
#X connect 2 4 34 0;
#X connect 4 0 5 0;
#X connect 5 0 29 0;
#X connect 17 0 25 0;
#X connect 17 0 27 0;
#X connect 17 0 15 0;
#X connect 18 0 11 0;
#X connect 19 0 3 0;
#X connect 19 1 7 0;
#X connect 19 2 8 0;
#X connect 19 3 9 0;
#X connect 19 4 20 0;
#X connect 19 5 2 0;
#X connect 21 0 17 0;
#X connect 21 0 18 0;
#X connect 21 0 23 0;
#X connect 23 0 24 0;
#X connect 25 0 13 0;
#X connect 26 0 14 0;
#X connect 27 0 22 0;
#X connect 29 0 30 0;
#X connect 32 0 33 0;
#X connect 34 0 25 0;
#X connect 34 1 26 0;
#X connect 34 2 32 0;
#X connect 34 3 27 0;
#X connect 34 4 24 0;
#X connect 34 5 15 0;
#X connect 34 6 1 0;
#X connect 34 7 6 0;
#X restore 464 80 pd route-inlet-messages;
#N canvas -8 -8 1366 685 sample 0;
#X obj 17 78 s \$0-reload;
#X obj 616 197 r \$0-sample-note;
#X obj 199 93 s \$0-sample-rate;
#X obj 616 226 list prepend pass sample note;
#X obj 325 83 list prepend pass sample rate;
#X obj 325 107 s \$0-params;
#X obj 616 255 s \$0-params;
#X obj 108 180 table \$0-sample;
#X obj 108 25 loadbang;
#X obj 108 54 samplerate~;
#X msg 108 117 resize \$1;
#X obj 108 141 s \$0-sample;
#X obj 17 54 delay 10;
#X obj 254 287 inlet~;
#X obj 264 311 inlet;
#X obj 254 428 tabwrite~ \$0-sample;
#X obj 401 389 timer;
#X obj 401 311 loadbang;
#X obj 401 428 s \$0-sample-duration;
#X obj 421 457 list prepend pass sample duration;
#X obj 421 481 s \$0-params;
#X msg 401 350 tempo 1 samp;
#X obj 264 340 sel 1 0, f 11;
#X msg 264 389 bang;
#X msg 301 389 stop;
#X obj 666 437 s \$0-offset-playhead-r;
#X obj 666 389 timer;
#X msg 666 350 tempo 1 msec;
#X obj 666 413 * 0.9;
#X obj 108 93 * 20;
#X connect 1 0 3 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 8 0 9 0;
#X connect 8 0 12 0;
#X connect 9 0 4 0;
#X connect 9 0 2 0;
#X connect 9 0 29 0;
#X connect 10 0 11 0;
#X connect 12 0 0 0;
#X connect 13 0 15 0;
#X connect 14 0 22 0;
#X connect 16 0 18 0;
#X connect 16 0 19 0;
#X connect 17 0 21 0;
#X connect 17 0 27 0;
#X connect 19 0 20 0;
#X connect 21 0 16 0;
#X connect 22 0 23 0;
#X connect 22 0 16 0;
#X connect 22 0 26 0;
#X connect 22 1 24 0;
#X connect 22 1 16 1;
#X connect 22 1 26 1;
#X connect 23 0 15 0;
#X connect 24 0 15 0;
#X connect 26 0 28 0;
#X connect 27 0 26 0;
#X connect 28 0 25 0;
#X connect 29 0 10 0;
#X restore 344 80 pd sample;
#X obj 12 271 outlet~;
#X obj 513 581 r \$0-state;
#X obj 513 610 outlet;
#X obj 456 285 cnv 15 15 15 empty \$0-text dec 0 6 0 10 -262144 -133184
0;
#X obj 456 305 cnv 15 15 15 empty \$0-text sus 0 6 0 10 -262144 -133184
0;
#X obj 456 325 cnv 15 15 15 empty \$0-text rel 0 6 0 10 -262144 -133184
0;
#X obj 478 154 cnv 15 30 6 empty \$0-text grain: 1 2 0 10 -262144 -133184
0;
#X obj 500 168 hradio 10 1 0 2 \$0-grain-duration-unit \$0-grain-duration-unit-r
ms 13 18 0 10 -260145 -262144 -133184 0;
#X obj 563 246 cnv 15 15 15 empty \$0-text speed 0 6 0 10 -262144 -133184
0;
#X obj 576 276 cnv 15 30 6 empty \$0-text playhead: 1 2 0 10 -262144
-133184 0;
#X obj 604 338 cnv 15 10 6 empty \$0-text % 1 2 0 10 -262144 -133184
0;
#X obj 635 279 cnv 2 1 91 empty \$0-bar empty 20 12 0 14 -133184 -70738
0;
#X obj 641 301 nbx 5 15 -1e+037 1e+037 0 0 \$0-offset-pitch \$0-offset-pitch-r
offset 0 -8 0 10 -260145 -262144 -133184 0.330709 256;
#X obj 641 333 nbx 3 15 0 100 0 0 \$0-offset-pitch-chance \$0-offset-pitch-chance-r
chance 0 -8 0 10 -260145 -262144 -133184 85 256;
#X obj 685 291 hradio 10 1 0 2 \$0-offset-pitch-unit \$0-offset-pitch-unit-r
m 13 18 0 10 -260145 -262144 -133184 0;
#X obj 644 365 hsl 62 10 0 100 0 0 \$0-offset-pitch-precision \$0-offset-pitch-precision-r
precision -2 -8 0 10 -260145 -262144 -133184 0 0;
#X obj 654 276 cnv 15 30 6 empty \$0-text pitch: 1 2 0 10 -262144 -133184
0;
#X obj 682 338 cnv 15 10 6 empty \$0-text % 1 2 0 10 -262144 -133184
0;
#X obj 714 279 cnv 2 1 91 empty \$0-bar empty 20 12 0 14 -133184 -70738
0;
#X obj 721 301 nbx 5 15 -1e+037 1e+037 0 0 \$0-offset-duration \$0-offset-duration-r
offset 0 -8 0 10 -260145 -262144 -133184 -340 256;
#X obj 721 333 nbx 3 15 0 100 0 0 \$0-offset-duration-chance \$0-offset-duration-chance-r
chance 0 -8 0 10 -260145 -262144 -133184 0 256;
#X obj 765 291 hradio 10 1 0 2 \$0-offset-duration-unit \$0-offset-duration-unit-r
ms 13 18 0 10 -260145 -262144 -133184 0;
#X obj 724 365 hsl 62 10 0 100 0 0 \$0-offset-duration-precision \$0-offset-duration-precision-r
precision -2 -8 0 10 -260145 -262144 -133184 4880 0;
#X obj 734 276 cnv 15 30 6 empty \$0-text duration: 1 2 0 10 -262144
-133184 0;
#X obj 762 338 cnv 15 10 6 empty \$0-text % 1 2 0 10 -262144 -133184
0;
#X obj 772 157 cnv 2 1 99 empty \$0-bar empty 20 12 0 14 -133184 -70738
0;
#X obj 456 178 nbx 5 15 1 1e+037 0 0 \$0-grain-duration \$0-grain-duration-r
durat. 0 -8 0 10 -260145 -262144 -133184 465 256;
#X obj 566 166 cnv 15 198 48 empty \$0-waveformBg-r empty 20 12 0 14
-133184 -1 0;
#N canvas 0 50 450 250 (subpatch) 0;
#X array \$0-sample-vis 2048 float 2;
#X coords 0 1 2048 -1 200 50 1 0 0;
#X restore 565 165 graph;
#X obj 565 151 cnv 12 90 12 empty \$0-text sample: 1 5 0 10 -262144
-133184 0;
#X obj 793 279 cnv 2 1 106 empty \$0-bar empty 20 12 0 14 -133184 -70738
0;
#N canvas 0 50 936 300 params 0;
#X obj 165 135 r \$0-params;
#X obj 165 251 outlet;
#X obj 276 87 loadbang;
#X obj 276 111 f \$0;
#X obj 276 135 list prepend pass id;
#X text 468 40 las instancias de grano de cada voz necesitan acceso
al sample \, a la ventana y a la segunda ventana de suavizado \, todas
estas tablas utilizan la variable \$0 (número único que sirve para
identificar este parche) en su nombre para evitar conflictos y poder
\, por ejemplo \, correr dos instancias del sintetizador sin problemas
\; esto trae otro problema ya que los granos son instancias generadas
por un objeto [clone] cada una con su valor único de la variable \$0
\, por lo que es necesario enviar el valor desde aquí a través de
todas las instancias de voces para así llegar a todas las instancias
de grano dentro de ellas \, donde se construyen dinámicamente los
nombres de las tablas y asi los granos pueden leer de ellas;
#X connect 0 0 1 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X restore 212 120 pd params;
#N canvas 130 130 450 300 targetall 0;
#X obj 12 185 outlet;
#X obj 12 156 list trim;
#X obj 12 132 list prepend all;
#X obj 12 103 inlet;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X restore 212 150 pd targetall;
#X obj 344 51 inlet~;
#X obj 404 51 route rec;
#X obj 12 189 clone ./granos-rt-voice~ 16;
#X obj 198 242 *~;
#X obj 198 271 outlet~;
#X connect 28 0 42 0;
#X connect 29 0 28 1;
#X connect 29 0 78 1;
#X connect 35 0 77 0;
#X connect 36 0 74 0;
#X connect 38 0 35 0;
#X connect 39 0 76 0;
#X connect 43 0 44 0;
#X connect 73 0 74 0;
#X connect 74 0 77 1;
#X connect 75 0 41 0;
#X connect 76 0 41 1;
#X connect 76 1 40 0;
#X connect 77 0 28 0;
#X connect 77 1 78 0;
#X connect 78 0 79 0;
#X coords 0 -1 1 1 394 256 2 450 143;
